<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PatchouLink — Project PDF Viewer</title>
  <style>
    :root{
      --bg:#f6faf6;
      --card:#ffffff;
      --green:#1f7a4c;
      --muted:#556078;
      font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
    }
    body{margin:0;background:var(--bg);color:#0b2530;display:flex;flex-direction:column;min-height:100vh}
    .header{background:linear-gradient(90deg,#eaf6ec, #f7fff7);padding:18px 24px;border-bottom:1px solid rgba(0,0,0,0.04);display:flex;align-items:center;gap:16px}
    .logo{width:48px;height:48px;border-radius:8px;background:var(--green);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    .title{font-size:18px;margin:0}
    .subtitle{color:var(--muted);font-size:13px;margin:2px 0 0}
    .container{padding:18px;flex:1;display:flex;flex-direction:column;gap:12px;max-width:1100px;margin:0 auto;width:100%}
    .controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .btn{background:var(--green);color:#fff;padding:8px 12px;border-radius:8px;text-decoration:none;font-weight:600;font-size:14px;display:inline-flex;gap:8px;align-items:center}
    .btn.secondary{background:#fff;color:var(--green);border:1px solid rgba(31,122,76,0.12)}
    .viewer{flex:1;min-height:60vh;border-radius:8px;overflow:hidden;border:1px solid #e6efe6;background:#fff;display:flex;flex-direction:column}
    .pdf-wrap{flex:1;display:flex}
    /* use embed/iframe to fill area */
    .pdf-frame{width:100%;height:100%;border:0}
    .note{font-size:13px;color:var(--muted)}
    footer{padding:14px 24px;text-align:center;font-size:13px;color:var(--muted)}
    @media (max-width:720px){ .header{padding:12px} .container{padding:12px} }
  </style>
</head>
<body>
  <header class="header">
    <div class="logo">PL</div>
    <div>
      <h1 class="title">PatchouLink — Project PDF Viewer</h1>
      <div class="subtitle">Tampilan PDF proyek (simpan file PDF di folder yang sama dengan file HTML)</div>
    </div>
  </header>

  <main class="container">
    <div class="controls">
      <!-- Buttons: open PDF in new tab, download, print -->
      <a class="btn" id="openBtn" target="_blank" rel="noopener" href="patchoulink_project.pdf">Open in new tab</a>
      <a class="btn secondary" id="downloadBtn" href="patchoulink_project.pdf" download>Download PDF</a>
      <button class="btn secondary" id="printBtn" title="Print visible PDF">Print</button>
      <div style="margin-left:auto" class="note">File: <strong id="filename">patchoulink_project.pdf</strong></div>
    </div>

    <div class="viewer" role="region" aria-label="PDF viewer">
      <div class="pdf-wrap" id="pdfContainer">
        <!-- Fallback order: <embed> then <iframe>. Use embed for most browsers; iframe for others -->
        <embed class="pdf-frame" id="pdfEmbed" src="patchoulink_project.pdf" type="application/pdf">
        <iframe class="pdf-frame" id="pdfIframe" src="patchoulink_project.pdf" title="PatchouLink PDF"></iframe>
      </div>
    </div>

    <p class="note">Catatan: Jika PDF tidak muncul (beberapa browser/setting blok plugin PDF), klik "Open in new tab" untuk membuka file secara langsung atau gunakan tombol Download.</p>
  </main>

  <footer>
    PatchouLink — Traceability platform for Aceh patchouli. Simpan <code>patchoulink_project.html</code> dan <code>patchoulink_project.pdf</code> dalam folder yang sama, lalu buka HTML di browser.
  </footer>

  <script>
    // Basic interactivity: print button will try to print the iframe or open the PDF in new tab for printing
    const printBtn = document.getElementById('printBtn');
    const openBtn = document.getElementById('openBtn');
    const filenameEl = document.getElementById('filename');

    // Ensure filenames are correct (update if you rename the PDF)
    const pdfName = 'patchoulink_project.pdf';
    openBtn.href = pdfName;
    document.getElementById('downloadBtn').href = pdfName;
    filenameEl.textContent = pdfName;

    printBtn.addEventListener('click', () => {
      // Try printing the iframe first
      const iframe = document.getElementById('pdfIframe');
      try {
        iframe.contentWindow.focus();
        iframe.contentWindow.print();
      } catch (e) {
        // Fallback: open PDF in new tab and call print there (can't auto-print cross-origin)
        window.open(pdfName, '_blank');
      }
    });
  </script>
</body>
</html>
